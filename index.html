<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ParkHere 🅿️</title>

  <!-- App Title for iOS -->
  <meta name="apple-mobile-web-app-title" content="ParkHere">

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="logo.png">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Google Analytics 4 (inline) -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WFEPX8LJMT');
  </script>
</head>
<body>
  <div class="container">
    <h1>ParkHere test</h1>
    <p>Remember where you parked — no install needed.</p>

    <input type="hidden" id="notifyTime" value="3600000">

    <!-- Photo Upload Section -->
    <p class="shared-hide">📸 Add a photo:</p>
    <input 
      type="file" 
      id="photoInput" 
      class="shared-hide" 
      accept="image/*" 
      capture="environment"
      aria-label="Upload a photo of your parking spot"
    >
    <div id="photoPreview" class="shared-hide" style="margin:10px 0;">
      <img id="photoImg" src="" width="100%" style="border-radius:8px;" alt="Preview of your parking spot photo">
    </div>

    <!-- Buttons -->
    <button id="themeToggle" class="shared-hide">🌙 Dark Mode</button>
    <button id="saveBtn" class="shared-hide">📍 Save My Parking Spot</button>
    <button id="findBtn" disabled class="shared-hide">🧭 Find My Car</button>
    <button id="shareBtn" disabled class="shared-hide">📤 Share My Spot</button>
    <button id="showQRBtn" disabled class="shared-hide">🔲 Show QR Code</button>
    <div id="qrContainer" style="display:none;">
      <div id="qrcode-wrapper">
        <div id="qrcode"></div>
      </div>
      <p style="font-size:0.9em; color:#666;">Scan to view parking location</p>
    </div>
    <button id="directionsBtn" disabled class="shared-hide">🗺️ Get Directions</button>

    <button id="nearbyBtn" disabled class="shared-hide">🔍 Find Nearby Places</button>
    <div id="nearbyContainer" style="display:none; margin:15px 0; text-align:left;"></div>

    <button id="testVoiceBtn" class="shared-hide">🔊 Test Voice</button>

    <div class="voice-section">
      <label for="voiceSelect">Voice:</label>
      <select id="voiceSelect"></select>
    </div>
    <div class="whatsapp-section">
      <label for="whatsappNumber">WhatsApp Number:</label>
      <input type="tel" id="whatsappNumber" placeholder="+1234567890" />
    </div>

    <button id="sendWABtn" disabled class="shared-hide">💬 Save Reminder in WhatsApp</button>
    <button id="resetBtn" class="shared-hide">🗑️ Reset Parking Spot</button>
    <button id="supportBtn" class="shared-hide">☕ Support This App</button>
<p class="hint">
  ℹ️ ParkHere v1.0 by Jason | 
  <a href="/privacy.html" style="color:#007acc;">Privacy</a> | 
  <a href="https://buymeacoffee.com/digitalchaos" target="_blank" style="color:#ff8f00;">Support</a>
</p>
    <!-- Status & Timer -->
    <div id="status"></div>
    <div id="timer"></div>
    <div id="map"></div>
  </div>

  <!-- Load QRCode.js first -->
  <script src="/lib/qrcode.min.js"></script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="/lib/leaflet.css" />

  <!-- Leaflet JS -->
  <script src="/lib/leaflet.js"></script>

  <!-- Fix Leaflet image path -->
  <script>
    L.Icon.Default.imagePath = '/lib/images/';
  </script>

  <!-- Then load your app -->
  <script src="app.js"></script>
</body>
</html>